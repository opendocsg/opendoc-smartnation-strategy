[build]
    # Directory to change to before starting a build. 
    # This is where we will look for package.json/.nvmrc/etc.
    base = "/"

    # Default build command.
    command = "echo 'No build command specified'"

    # Directory (relative to root of your repo) that contains the deploy-ready 
    # HTML files and assets generated by the build.
    publish = "/_site"

# Specific branch context: all deploys from this specific branch will inherit
# these settings.
[context.production]
    command = "jekyll build"
    environment = { JEKYLL_ENV = "production" }

# Specific branch context: all deploys from this specific branch will inherit
# these settings.
[context.staging] # 'staging' is a branch name
    command = '''jekyll build && \
                 npm i html-pdf && \
                 node _site/assets/js/pdf-gen.js '''
    environment = { JEKYLL_ENV = "development" }
